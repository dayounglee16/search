<!DOCTYPE html>
<html lang="ko">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>검색기능</title>
  </head>
  <body>
    <div class="container">
      <h1>검색기능</h1>
      <form>
        <input type="text" class="input" placeholder="검색어를 입력해주세요" />
      </form>
      <ul class="list">
        <!-- <li>사과</li>
        <li>바나나</li>
        <li>체리</li>
        <li>돼지</li>
        <li>강아지</li>
        <li>포도</li> -->
      </ul>
    </div>

    <script>
      const items = [
        { name: "사과" },
        { name: "바나나" },
        { name: "체리" },
        { name: "돼지" },
        { name: "강아지" },
        { name: "포도" },
      ];

      // //item 생성
      function showList(val = "") {
        const list = document.getElementsByClassName("list")[0];
        list.innerHTML = "";

        items.forEach((item) => {
          if (item.name.includes(val)) {
            const li = document.createElement("li");
            li.textContent = item.name;
            list.appendChild(li);
          }
        });
      }
      showList();

      //검색기능
      const input = document.getElementsByTagName("input")[0];

      input.addEventListener("input", (e) => {
        e.preventDefault();
        const val = input.value;
        showList(val);
      });

      //혼자
      // const form = document.getElementsByTagName("form")[0];
      // form.addEventListener("input", (e) => {
      //   const items = document.querySelectorAll("li");
      //   const val = e.target.value;
      //   items.forEach((item) => {
      //     if (item.textContent.includes(val)) {
      //       // li의 모든 내용이 input의 내용과 겹치는 지
      //       item.style.display = ""; //기존형태(li)로 돌아가기(내용 보여지게)
      //     } else {
      //       item.style.display = "none"; //검색어에 맞지 않았을 때 숨기기
      //     }
      //   });
      // });

      // 개발자도구
      // const searchInput = document.getElementsByClassName("search-input")[0]; //input DOM으로 불러오기
      // searchInput.addEventListener("input", (e) => {
      //   // 인풋 이벤트 실행
      //   const searchText = e.target.value; // 인풋의 들어가는 내용은 인풋의 값
      //   const items = document.querySelectorAll(".list li"); //ul안의 li요소 돔으로 불러오기
      //   items.forEach((item) => {
      //     //li배열을 반복하고 item을 매개변수로 받는다
      //     if (item.textContent.includes(searchText)) {
      //       // item의 내용과 인풋의 값이 동일할 때 display""(인풋의 값이라는 뜻)
      //       item.style.display = ""; li로 돌아가기
      //     } else {
      //       item.style.display = "none";
      //     }
      //   });
      // });
    </script>
  </body>
</html>
